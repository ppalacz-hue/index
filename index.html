<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>AUTODOC PRO ‚Äì Panel Bonus√≥w</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
/* ===== ORYGINALNY STYL ‚Äì NIE ZMIENIONY ===== */
body {
    margin:0;
    font-family: Arial, sans-serif;
    background:#ff5a00;
    display:flex;
    flex-direction:column;
    align-items:center;
    min-height:100vh;
}

body::before{
    content:"";
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:75vw;
    height:75vh;
    background:url('mapa.png') no-repeat center;
    background-size:contain;
    opacity:0.12;
    z-index:0;
    pointer-events:none;
}

.top-logo{ margin-top:80px; margin-bottom:30px; z-index:2; }
.top-logo img{ height:30px; }

.panel {
    background:white;
    width:900px;
    max-width:95%;
    min-height:220px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    border-radius:8px;
    box-shadow:0 10px 25px rgba(0,0,0,0.3);
    z-index:2;
}

.left-icon,.right-icon{
    width:180px;height:100%;background:#f4b38f;
    display:flex;align-items:center;justify-content:center;
    font-size:60px;color:white;
}

.center-input{
    flex:1;display:flex;flex-direction:column;
    align-items:center;justify-content:center;
}

input,select{
    width:400px;max-width:90%;
    padding:18px;font-size:18px;
    text-align:center;border:2px solid #ff5a00;
    border-radius:6px;margin-top:10px;
}

button{
    margin-top:15px;padding:12px 30px;
    font-size:18px;border:none;
    background:#ff5a00;color:white;
    border-radius:6px;cursor:pointer;
}

button:hover{ background:#e04e00; }

.reset-btn{ background:#0f1f26;margin-left:15px; }
.reset-btn:hover{ background:#162f3a; }

.results{
    margin-top:40px;background:white;
    padding:30px;border-radius:8px;
    width:900px;max-width:95%;
    display:none;box-shadow:0 8px 20px rgba(0,0,0,0.3);
    z-index:2;
}

.results h2{ color:#ff5a00; }

.result-grid{
    display:grid;grid-template-columns:1fr 1fr;
    gap:20px;margin-top:20px;font-size:20px;
}

.note{ margin-top:25px;font-size:14px;color:#555; }

.logo-bar{
    margin-top:auto;width:100%;background:white;
    padding:15px 0;display:flex;
    justify-content:center;align-items:center;
    gap:30px;box-shadow:0 -3px 10px rgba(0,0,0,0.2);
    z-index:5;
}

.logo-bar img{ height:30px; }

.bottom-icons{ display:flex;gap:15px; }

.icon-btn{
    width:42px;height:42px;background:#f4f4f4;
    border-radius:50%;display:flex;
    align-items:center;justify-content:center;
    font-size:22px;cursor:pointer;transition:0.2s;
}

.icon-btn:hover{
    background:#ff5a00;transform:scale(1.1);
}

.modal{
    display:none;position:fixed;
    top:0;left:0;width:100%;height:100%;
    background:rgba(0,0,0,0.5);
    justify-content:center;align-items:center;
    z-index:20;
}

.modal-content{
    background:white;padding:30px;
    border-radius:10px;width:90%;
    max-width:420px;text-align:center;
}
</style>
</head>
<body>

<div class="top-logo"><img src="logo.svg"></div>

<div class="panel">
<div class="left-icon">‚ù§</div>

<div class="center-input">
<input type="text" id="employeeId" placeholder="ZESKANUJ / WPISZ ID">
<div>
<button onclick="checkBonus()">SPRAWD≈π BONUS</button>
<button class="reset-btn" onclick="resetPanel()">ZERUJ</button>
</div>
</div>

<div class="right-icon">‚ö°</div>
</div>

<div class="results" id="resultsBox">
<h2>Twoje wyniki:</h2>
<div class="result-grid">
<div><strong>Bonus:</strong> <span id="bonus"></span></div>
<div><strong>UPH:</strong> <span id="uph"></span></div>
<div><strong>Czas pracy:</strong> <span id="worked"></span></div>
<div><strong>Limit miesiƒôczny:</strong> <span id="limit"></span></div>
<div><strong>Status:</strong> <span id="status"></span></div>
<div><strong>Data generowania:</strong> <span id="date"></span></div>
</div>
<div class="note">
Wielko≈õƒá bonusu uzale≈ºniona jest od godzin w danym procesie.
Podana warto≈õƒá mo≈ºe r√≥≈ºniƒá siƒô od ko≈Ñcowej.
Dziƒôkujemy ≈ºe jeste≈õ.
</div>
</div>

<div class="logo-bar">
<img src="autodoc-logo.png">
<div class="bottom-icons">
<div class="icon-btn" onclick="openHR()">üë•</div>
<div class="icon-btn" onclick="openQR()">üí¨</div>
<div class="icon-btn" onclick="goToSite()">üåç</div>
<div class="icon-btn" onclick="openSchedule()">üìÖ</div>
<div class="icon-btn" onclick="openLeave()">üìù</div>
</div>
</div>

<!-- Modale -->
<div id="scheduleModal" class="modal">
<div class="modal-content">
<h3>Tw√≥j grafik</h3>
<p>Pon ‚Äì Pt: 06:00 ‚Äì 14:00</p>
<p>Sob/Ndz: Wolne</p>
<button onclick="closeSchedule()">ZAMKNIJ</button>
</div>
</div>

<div id="leaveModal" class="modal">
<div class="modal-content">
<h3>Wniosek o urlop</h3>
<input type="text" id="leaveName" placeholder="Imiƒô i nazwisko">
<input type="text" id="leaveDept" placeholder="Dzia≈Ç">
<input type="text" id="leaveBoss" placeholder="Prze≈Ço≈ºony">
<select id="leaveType">
<option value="">-- Wybierz typ urlopu --</option>
<option>Opieka</option>
<option>Urodzinowy</option>
<option>Na ≈ºƒÖdanie</option>
</select>
<button onclick="submitLeave()">WY≈öLIJ</button>
<button onclick="closeLeave()" style="background:#555;">ZAMKNIJ</button>
</div>
</div>

<script>
const employees={
"8500":{name:"Jan Kowalski",bonus:"5200 z≈Ç",uph:"132",worked:168,limit:160,date:"01.02.2026"}
};

let loggedUser=null;

function checkBonus(){
const id=document.getElementById("employeeId").value.trim();
const data=employees[id];
if(data){
loggedUser=data;
document.getElementById("bonus").innerText=data.bonus;
document.getElementById("uph").innerText=data.uph;
document.getElementById("worked").innerText=data.worked+" h";
document.getElementById("limit").innerText=data.limit+" h";
document.getElementById("status").innerText=data.worked>=data.limit?"Limit wyrobiony ‚úÖ":"Brakuje "+(data.limit-data.worked)+" h";
document.getElementById("status").style.color=data.worked>=data.limit?"green":"red";
document.getElementById("date").innerText=data.date;
document.getElementById("resultsBox").style.display="block";
}else alert("Nie znaleziono pracownika!");
document.getElementById("employeeId").value="";
}

function resetPanel(){
loggedUser=null;
document.getElementById("resultsBox").style.display="none";
}

function openSchedule(){
if(!loggedUser)return alert("Najpierw sprawd≈∫ ID!");
document.getElementById("scheduleModal").style.display="flex";
}
function closeSchedule(){document.getElementById("scheduleModal").style.display="none";}

function openLeave(){
if(!loggedUser)return alert("Najpierw sprawd≈∫ ID!");
document.getElementById("leaveName").value=loggedUser.name||"";
document.getElementById("leaveModal").style.display="flex";
}
function closeLeave(){document.getElementById("leaveModal").style.display="none";}

function submitLeave(){
const name=leaveName.value;
const dept=leaveDept.value;
const boss=leaveBoss.value;
const type=leaveType.value;
if(!name||!dept||!boss||!type) return alert("Uzupe≈Çnij wszystkie pola!");

const leaveData={name,dept,boss,type,date:new Date().toLocaleDateString()};
localStorage.setItem("lastLeave",JSON.stringify(leaveData));

generatePDF(leaveData);

window.location.href=`mailto:hr@autodoc.pl?subject=Wniosek urlopowy&body=Pracownik: ${name}%0ADzia≈Ç: ${dept}%0APrze≈Ço≈ºony: ${boss}%0ATyp: ${type}`;

alert("Wniosek zapisany, PDF wygenerowany i przygotowany mail ‚úÖ");
closeLeave();
}

function generatePDF(data){
const {jsPDF}=window.jspdf;
const doc=new jsPDF();
doc.text("WNIOSEK URLOPOWY",20,20);
doc.text(`Imiƒô i nazwisko: ${data.name}`,20,40);
doc.text(`Dzia≈Ç: ${data.dept}`,20,50);
doc.text(`Prze≈Ço≈ºony: ${data.boss}`,20,60);
doc.text(`Typ urlopu: ${data.type}`,20,70);
doc.text(`Data: ${data.date}`,20,80);
doc.save("wniosek_urlopowy.pdf");
}
</script>

</body>
</html>